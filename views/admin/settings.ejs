<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Settings - Khelkud Nepal</title>
  <link rel="stylesheet" href="/css/admin.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
</head>
<body>
  <div class="container-fluid">
    <div class="row">
      <!-- Sidebar -->
      <%- include('./partials/sidebar', { active: 'settings' }) %>

      <!-- Main content -->
      <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4 py-4">
        <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
          <h1 class="h2">Settings</h1>
          <div class="btn-toolbar mb-2 mb-md-0">
            <button type="button" class="btn btn-sm btn-outline-secondary" id="refresh-settings">
              <i class="bi bi-arrow-repeat"></i> Refresh
            </button>
          </div>
        </div>

        <!-- Settings tabs -->
        <ul class="nav nav-tabs" id="settingsTabs" role="tablist">
          <li class="nav-item" role="presentation">
            <button class="nav-link active" id="general-tab" data-bs-toggle="tab" data-bs-target="#general" type="button" role="tab" aria-controls="general" aria-selected="true">General</button>
          </li>
          <li class="nav-item" role="presentation">
            <button class="nav-link" id="news-tab" data-bs-toggle="tab" data-bs-target="#news" type="button" role="tab" aria-controls="news" aria-selected="false">News</button>
          </li>
          <li class="nav-item" role="presentation">
            <button class="nav-link" id="users-tab" data-bs-toggle="tab" data-bs-target="#users" type="button" role="tab" aria-controls="users" aria-selected="false">Users</button>
          </li>
          <li class="nav-item" role="presentation">
            <button class="nav-link" id="newsletter-tab" data-bs-toggle="tab" data-bs-target="#newsletter" type="button" role="tab" aria-controls="newsletter" aria-selected="false">Newsletter</button>
          </li>
          <li class="nav-item" role="presentation">
            <button class="nav-link" id="advanced-tab" data-bs-toggle="tab" data-bs-target="#advanced" type="button" role="tab" aria-controls="advanced" aria-selected="false">Advanced</button>
          </li>
        </ul>
        
        <div class="tab-content p-4 bg-white border border-top-0 rounded-bottom" id="settingsTabsContent">
          <!-- General Settings -->
          <div class="tab-pane fade show active" id="general" role="tabpanel" aria-labelledby="general-tab">
            <form id="general-settings-form">
              <div class="row mb-4">
                <div class="col-md-12">
                  <h5 class="mb-3">Site Information</h5>
                  <div class="mb-3">
                    <label for="site-title" class="form-label">Site Title</label>
                    <input type="text" class="form-control" id="site-title" value="Khelkud Nepal">
                  </div>
                  <div class="mb-3">
                    <label for="site-description" class="form-label">Site Description</label>
                    <textarea class="form-control" id="site-description" rows="3">Your one-stop destination for sports news in Nepal.</textarea>
                  </div>
                  <div class="mb-3">
                    <label for="site-logo" class="form-label">Site Logo</label>
                    <div class="input-group">
                      <input type="file" class="form-control" id="site-logo">
                      <button class="btn btn-outline-secondary" type="button" id="upload-logo">Upload</button>
                    </div>
                  </div>
                </div>
              </div>
              
              <div class="row mb-4">
                <div class="col-md-12">
                  <h5 class="mb-3">Contact Information</h5>
                  <div class="mb-3">
                    <label for="contact-email" class="form-label">Email Address</label>
                    <input type="email" class="form-control" id="contact-email" value="contact@khelkudnepal.com">
                  </div>
                  <div class="mb-3">
                    <label for="contact-phone" class="form-label">Phone Number</label>
                    <input type="text" class="form-control" id="contact-phone" value="+977 9800000000">
                  </div>
                  <div class="mb-3">
                    <label for="contact-address" class="form-label">Office Address</label>
                    <textarea class="form-control" id="contact-address" rows="2">Kathmandu, Nepal</textarea>
                  </div>
                </div>
              </div>
              
              <div class="row mb-4">
                <div class="col-md-12">
                  <h5 class="mb-3">Social Media</h5>
                  <div class="mb-3">
                    <label for="social-facebook" class="form-label">Facebook</label>
                    <input type="url" class="form-control" id="social-facebook" value="https://facebook.com/khelkudnepal">
                  </div>
                  <div class="mb-3">
                    <label for="social-twitter" class="form-label">Twitter</label>
                    <input type="url" class="form-control" id="social-twitter" value="https://twitter.com/khelkudnepal">
                  </div>
                  <div class="mb-3">
                    <label for="social-instagram" class="form-label">Instagram</label>
                    <input type="url" class="form-control" id="social-instagram" value="https://instagram.com/khelkudnepal">
                  </div>
                </div>
              </div>
              
              <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                <button type="submit" class="btn btn-primary">Save Changes</button>
              </div>
            </form>
          </div>
          
          <!-- News Settings -->
          <div class="tab-pane fade" id="news" role="tabpanel" aria-labelledby="news-tab">
            <form id="news-settings-form">
              <div class="row mb-4">
                <div class="col-md-12">
                  <h5 class="mb-3">News Display</h5>
                  <div class="mb-3">
                    <label for="news-per-page" class="form-label">News per page</label>
                    <input type="number" class="form-control" id="news-per-page" value="10" min="5" max="50">
                  </div>
                  <div class="mb-3">
                    <label for="featured-news-count" class="form-label">Featured news count</label>
                    <input type="number" class="form-control" id="featured-news-count" value="5" min="3" max="10">
                  </div>
                  <div class="mb-3 form-check">
                    <input type="checkbox" class="form-check-input" id="show-related-news" checked>
                    <label class="form-check-label" for="show-related-news">Show related news</label>
                  </div>
                </div>
              </div>
              
              <div class="row mb-4">
                <div class="col-md-12">
                  <h5 class="mb-3">News Categories</h5>
                  <div class="mb-3">
                    <label class="form-label">Manage Categories</label>
                    <div class="table-responsive">
                      <table class="table table-bordered">
                        <thead>
                          <tr>
                            <th>Category Name</th>
                            <th>Display in Menu</th>
                            <th>Actions</th>
                          </tr>
                        </thead>
                        <tbody id="categories-table">
                          <tr>
                            <td>Football</td>
                            <td>
                              <div class="form-check form-switch">
                                <input class="form-check-input" type="checkbox" checked>
                              </div>
                            </td>
                            <td>
                              <button type="button" class="btn btn-sm btn-outline-primary">Edit</button>
                            </td>
                          </tr>
                          <tr>
                            <td>Basketball</td>
                            <td>
                              <div class="form-check form-switch">
                                <input class="form-check-input" type="checkbox" checked>
                              </div>
                            </td>
                            <td>
                              <button type="button" class="btn btn-sm btn-outline-primary">Edit</button>
                            </td>
                          </tr>
                          <tr>
                            <td>Cricket</td>
                            <td>
                              <div class="form-check form-switch">
                                <input class="form-check-input" type="checkbox" checked>
                              </div>
                            </td>
                            <td>
                              <button type="button" class="btn btn-sm btn-outline-primary">Edit</button>
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                    <button type="button" class="btn btn-sm btn-primary mt-2">Add New Category</button>
                  </div>
                </div>
              </div>
              
              <div class="row mb-4">
                <div class="col-md-12">
                  <h5 class="mb-3">News Scraping</h5>
                  <div class="mb-3">
                    <label for="auto-scrape" class="form-label">Auto-scrape frequency</label>
                    <select class="form-select" id="auto-scrape">
                      <option value="off">Off</option>
                      <option value="hourly">Hourly</option>
                      <option value="daily" selected>Daily</option>
                      <option value="weekly">Weekly</option>
                    </select>
                  </div>
                  <div class="mb-3">
                    <label for="scrape-sources" class="form-label">Default sources</label>
                    <textarea class="form-control" id="scrape-sources" rows="3">sports nepal, nepal football, nepal cricket, asian games, south asian games</textarea>
                    <div class="form-text">Enter search keywords separated by commas.</div>
                  </div>
                </div>
              </div>
              
              <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                <button type="submit" class="btn btn-primary">Save Changes</button>
              </div>
            </form>
          </div>
          
          <!-- User Settings -->
          <div class="tab-pane fade" id="users" role="tabpanel" aria-labelledby="users-tab">
            <form id="user-settings-form">
              <div class="row mb-4">
                <div class="col-md-12">
                  <h5 class="mb-3">Registration</h5>
                  <div class="mb-3 form-check">
                    <input type="checkbox" class="form-check-input" id="allow-registration" checked>
                    <label class="form-check-label" for="allow-registration">Allow new user registration</label>
                  </div>
                  <div class="mb-3 form-check">
                    <input type="checkbox" class="form-check-input" id="email-verification" checked>
                    <label class="form-check-label" for="email-verification">Require email verification</label>
                  </div>
                  <div class="mb-3">
                    <label for="default-role" class="form-label">Default user role</label>
                    <select class="form-select" id="default-role">
                      <option value="user" selected>User</option>
                      <option value="editor">Editor</option>
                      <option value="admin">Admin</option>
                    </select>
                  </div>
                </div>
              </div>
              
              <div class="row mb-4">
                <div class="col-md-12">
                  <h5 class="mb-3">Authentication</h5>
                  <div class="mb-3">
                    <label for="session-duration" class="form-label">Session duration (hours)</label>
                    <input type="number" class="form-control" id="session-duration" value="24" min="1" max="168">
                  </div>
                  <div class="mb-3 form-check">
                    <input type="checkbox" class="form-check-input" id="remember-me-option" checked>
                    <label class="form-check-label" for="remember-me-option">Show "Remember me" option</label>
                  </div>
                  <div class="mb-3 form-check">
                    <input type="checkbox" class="form-check-input" id="auto-logout">
                    <label class="form-check-label" for="auto-logout">Auto logout after inactivity</label>
                  </div>
                </div>
              </div>
              
              <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                <button type="submit" class="btn btn-primary">Save Changes</button>
              </div>
            </form>
          </div>
          
          <!-- Newsletter Settings -->
          <div class="tab-pane fade" id="newsletter" role="tabpanel" aria-labelledby="newsletter-tab">
            <form id="newsletter-settings-form">
              <div class="row mb-4">
                <div class="col-md-12">
                  <h5 class="mb-3">Newsletter Configuration</h5>
                  <div class="mb-3">
                    <label for="newsletter-from" class="form-label">From Email</label>
                    <input type="email" class="form-control" id="newsletter-from" value="newsletter@khelkudnepal.com">
                  </div>
                  <div class="mb-3">
                    <label for="newsletter-name" class="form-label">From Name</label>
                    <input type="text" class="form-control" id="newsletter-name" value="Khelkud Nepal">
                  </div>
                  <div class="mb-3">
                    <label for="newsletter-subject" class="form-label">Default Subject Line</label>
                    <input type="text" class="form-control" id="newsletter-subject" value="[Khelkud Nepal] Latest Sports News">
                  </div>
                </div>
              </div>
              
              <div class="row mb-4">
                <div class="col-md-12">
                  <h5 class="mb-3">Delivery Schedule</h5>
                  <div class="mb-3">
                    <label for="daily-send-time" class="form-label">Daily Newsletter Send Time</label>
                    <input type="time" class="form-control" id="daily-send-time" value="06:00">
                  </div>
                  <div class="mb-3">
                    <label for="weekly-send-day" class="form-label">Weekly Newsletter Send Day</label>
                    <select class="form-select" id="weekly-send-day">
                      <option value="1">Monday</option>
                      <option value="2">Tuesday</option>
                      <option value="3">Wednesday</option>
                      <option value="4">Thursday</option>
                      <option value="5">Friday</option>
                      <option value="6" selected>Saturday</option>
                      <option value="0">Sunday</option>
                    </select>
                  </div>
                  <div class="mb-3">
                    <label for="weekly-send-time" class="form-label">Weekly Newsletter Send Time</label>
                    <input type="time" class="form-control" id="weekly-send-time" value="08:00">
                  </div>
                </div>
              </div>
              
              <div class="row mb-4">
                <div class="col-md-12">
                  <h5 class="mb-3">Content Settings</h5>
                  <div class="mb-3">
                    <label for="articles-per-newsletter" class="form-label">Articles per Newsletter</label>
                    <input type="number" class="form-control" id="articles-per-newsletter" value="5" min="1" max="20">
                  </div>
                  <div class="mb-3 form-check">
                    <input type="checkbox" class="form-check-input" id="include-images" checked>
                    <label class="form-check-label" for="include-images">Include images in newsletter</label>
                  </div>
                  <div class="mb-3 form-check">
                    <input type="checkbox" class="form-check-input" id="include-full-content">
                    <label class="form-check-label" for="include-full-content">Include full article content (not just summary)</label>
                  </div>
                </div>
              </div>
              
              <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                <button type="button" class="btn btn-secondary me-md-2">Send Test Newsletter</button>
                <button type="submit" class="btn btn-primary">Save Changes</button>
              </div>
            </form>
          </div>
          
          <!-- Advanced Settings -->
          <div class="tab-pane fade" id="advanced" role="tabpanel" aria-labelledby="advanced-tab">
            <form id="advanced-settings-form">
              <div class="row mb-4">
                <div class="col-md-12">
                  <h5 class="mb-3">System</h5>
                  <div class="mb-3">
                    <label for="cache-duration" class="form-label">Cache Duration (minutes)</label>
                    <input type="number" class="form-control" id="cache-duration" value="60" min="0" max="1440">
                  </div>
                  <div class="mb-3 form-check">
                    <input type="checkbox" class="form-check-input" id="debug-mode">
                    <label class="form-check-label" for="debug-mode">Enable Debug Mode</label>
                  </div>
                  <div class="mb-3">
                    <label for="log-level" class="form-label">Log Level</label>
                    <select class="form-select" id="log-level">
                      <option value="error">Error</option>
                      <option value="warn" selected>Warning</option>
                      <option value="info">Info</option>
                      <option value="debug">Debug</option>
                    </select>
                  </div>
                </div>
              </div>
              
              <div class="row mb-4">
                <div class="col-md-12">
                  <h5 class="mb-3">Maintenance</h5>
                  <div class="mb-3 form-check">
                    <input type="checkbox" class="form-check-input" id="maintenance-mode">
                    <label class="form-check-label" for="maintenance-mode">Enable Maintenance Mode</label>
                  </div>
                  <div class="mb-3">
                    <label for="maintenance-message" class="form-label">Maintenance Message</label>
                    <textarea class="form-control" id="maintenance-message" rows="3">We are currently performing scheduled maintenance. Please check back soon.</textarea>
                  </div>
                  <div class="mb-3">
                    <button type="button" class="btn btn-warning">Clear Cache</button>
                    <button type="button" class="btn btn-danger ms-2">Reset System</button>
                  </div>
                </div>
              </div>
              
              <div class="row mb-4">
                <div class="col-md-12">
                  <h5 class="mb-3">API</h5>
                  <div class="mb-3 form-check">
                    <input type="checkbox" class="form-check-input" id="enable-api" checked>
                    <label class="form-check-label" for="enable-api">Enable API</label>
                  </div>
                  <div class="mb-3">
                    <label for="api-rate-limit" class="form-label">API Rate Limit (requests per minute)</label>
                    <input type="number" class="form-control" id="api-rate-limit" value="60" min="10" max="1000">
                  </div>
                  <div class="mb-3">
                    <label class="form-label">API Keys</label>
                    <div class="table-responsive">
                      <table class="table table-bordered">
                        <thead>
                          <tr>
                            <th>Name</th>
                            <th>API Key</th>
                            <th>Created</th>
                            <th>Actions</th>
                          </tr>
                        </thead>
                        <tbody id="api-keys-table">
                          <tr>
                            <td>Default Key</td>
                            <td>****************************************</td>
                            <td>2023-10-25</td>
                            <td>
                              <button type="button" class="btn btn-sm btn-outline-secondary">View</button>
                              <button type="button" class="btn btn-sm btn-outline-danger">Revoke</button>
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                    <button type="button" class="btn btn-sm btn-primary mt-2">Generate New API Key</button>
                  </div>
                </div>
              </div>
              
              <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                <button type="submit" class="btn btn-primary">Save Changes</button>
              </div>
            </form>
          </div>
        </div>
      </main>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script src="/js/admin-settings.js"></script>
</body>
</html> 