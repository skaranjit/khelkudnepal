<div class="col-md-3 col-lg-2 d-md-block bg-light sidebar collapse" id="sidebarMenu">
  <div class="position-sticky pt-3">
    <ul class="nav flex-column">
      <li class="nav-item">
        <a class="nav-link <%= locals.active === 'dashboard' ? 'active' : '' %>" href="/admin/dashboard">
          <i class="bi bi-speedometer2 me-2"></i>
          Dashboard
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link <%= locals.active === 'news' ? 'active' : '' %>" href="/admin/news">
          <i class="bi bi-newspaper me-2"></i>
          News Management
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link <%= locals.active === 'subscriptions' ? 'active' : '' %>" href="/admin/subscriptions">
          <i class="bi bi-envelope me-2"></i>
          Subscriptions
        </a>
      </li>
    </ul>
    
    <h6 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted">
      <span>Quick Links</span>
    </h6>
    <ul class="nav flex-column mb-2">
      <li class="nav-item">
        <a class="nav-link" href="/admin/news/create">
          <i class="bi bi-plus-circle me-2"></i>
          Create Article
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/" target="_blank">
          <i class="bi bi-box-arrow-up-right me-2"></i>
          View Site
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#" id="logout-link">
          <i class="bi bi-box-arrow-right me-2"></i>
          Logout
        </a>
      </li>
    </ul>
  </div>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    // Logout functionality
    const logoutLink = document.getElementById('logout-link');
    if (logoutLink) {
      logoutLink.addEventListener('click', function(e) {
        e.preventDefault();
        
        if (confirm('Are you sure you want to logout?')) {
          fetch('/api/auth/logout', {
            method: 'POST'
          })
            .then(response => response.json())
            .then(data => {
              if (data.success) {
                window.location.href = '/admin/login';
              } else {
                alert('Error logging out. Please try again.');
              }
            })
            .catch(error => {
              console.error('Logout error:', error);
              alert('Error logging out. Please try again.');
            });
        }
      });
    }
  });
</script> 